PRINT
PRINT"********************************"
PRINT"X16 EDIT KEY BINDING CONFIG TOOL"
PRINT"********************************"
PRINT
PRINT"USAGE:"
PRINT
PRINT"CONTROL CHARACTERS OR BYTE VALUES MAY BE ENTERED IN THE FOLLOWING"
PRINT"TWO WAYS: (1) A PRINTABLE CHARACTER MAY BE ENTERED AS SUCH"
PRINT"(2) THE BYTE VALUE OF NON-PRINTABLE CHARACTERS MAY BE ENTERED IN DECIMAL"
PRINT"FORM WITH EXACTLY THREE DIGITS, FOR EXAMPLE 009 IS THE BYTE VALUE"
PRINT"OF THE TAB KEY."
PRINT
PRINT"CHARACTERS AND BYTE VALUES MUST MATCH THE VALUE RETURNED BY KERNAL"
PRINT"FUNCTION GETIN ($FFE4)."
PRINT
PRINT"PRESS ENTER TO KEEP THE DEFAULT VALUE IN PARENTHESES."
PRINT

GOSUB SETDEFAULTS

REM **************************
REM GET USER DEFINED SHORTCUTS
REM **************************
FOR I=0 TO 22
    K$=""
    READ D$
    PRINT D$;
    INPUTK$
    GOSUB PARSENUM
    IF K$<>"" THEN K(I)=ASC(K$)
NEXT I

PRINT

CONFIRM:
    INPUT"WRITE CONFIGURATION TO :/X16EDITRC (Y/N)"; A$
    IF A$="N" THEN END
    IF A$<>"Y" THEN CONFIRM

WRITE:
    OPEN 1,8,4,"@:/X16EDITRC,S,W"
    FOR I=0 TO 22
        PRINT#1,CHR$(K(I));
    NEXT I
    CLOSE 1

    END

PARSENUM:
    IF LEN(K$)<>3 THEN RETURN
    FOR V=1 TO 3
        V1=ASC(MID$(K$,V,1))
        IF V1<48 OR V1>57 THEN RETURN
    NEXT V
    K$ = CHR$(ASC(MID$(K$,3,1))-48 + (ASC(MID$(K$,2,1))-48)*10 + (ASC(MID$(K$,1,1))-48)*100)
    RETURN


REM *********************
REM SET DEFAULT SHORTCUTS
REM *********************

SETDEFAULTS:
    DIM K(23)
    K(0)=ASC("G")
    K(1)=ASC("X")
    K(2)=ASC("O")
    K(3)=ASC("R")
    K(4)=ASC("N")
    K(5)=ASC("J")
    K(6)=ASC("Y")
    K(7)=ASC("V")
    K(8)=ASC("K")
    K(9)=ASC("C")
    K(10)=ASC("U")
    K(11)=25
    K(12)=ASC("W")
    K(13)=ASC("S")
    K(14)=ASC("L")
    K(15)=ASC("A")
    K(16)=ASC("Z")
    K(17)=ASC("E")
    K(18)=ASC("I")
    K(19)=ASC("D")
    K(20)=ASC("T")
    K(21)=ASC("B")
    K(22)=ASC("M")
    RETURN


REM **************************
REM PROMPT STRINGS
REM **************************
DATA"GET HELP           (G)"
DATA"EXIT PROGRAM       (X)"
DATA"WRITE TO FILE      (O)"
DATA"READ FILE          (R)"
DATA"NEW BUFFER         (N)"
DATA"JUSTIFY BUFFER     (J)"
DATA"PAGE UP            (Y)"
DATA"PAGE DOWN          (V)"
DATA"CUT LINE           (K)"
DATA"COPY LINE          (C)"
DATA"PASTE CLIPBOARD    (U)"
DATA"DELETE LINE      (DEL)"
DATA"SEARCH             (W)"
DATA"REPLACE            (S)"
DATA"GOTO LINE NUMBER   (L)"
DATA"AUTO INDENT        (A)"
DATA"WORD WRAP          (Z)"
DATA"CHANGE CHARSE  T   (E)"
DATA"INVOKE DOS COMMAND (I)"
DATA"SET DEVICE NUMBER  (D)"
DATA"CHANGE TEXT COLOR  (T)"
DATA"CHANGE BG COLOR    (B)"
DATA"SHOW MEMORY USAGE  (M)"